# 前言

本文测试了多种方式下载文件，借以学习多线程。



# 项目各文件作用

## single_thread

这个包是单线程下载方法的实现

|                        |                |
| ---------------------- | -------------- |
| `SingleThreadDownload` | 单线程方法下载 |



## multi_thread_no_pool

这个包是多线程下载方法的实现，而且不带有线程池

|                       |                                  |
| --------------------- | -------------------------------- |
| `MultiThreadDownload` | 主方法（创建多线程，执行下载）   |
| `DownLoad_Thread`     | 通过继承Thread实现线程方法       |
| `DownLoad_Runnable`   | 通过实现Runnable接口实现线程方法 |



## multi_thread_with_pool

### basic

这个包是多线程下载方法的实现，带有线程池。

通过线程池的`shutdown()`方法和`awaitTermination()`方法实现下载时间的统计

|                               |                                                              |
| ----------------------------- | ------------------------------------------------------------ |
| `MultiThreadDownloadWithPool` | 主方法（通过线程池，提交线程任务，执行下载）                 |
| `DownLoad_Runnable_pool`      | 跟`multi_thread_no_poo`包里面的`DownLoad_Thread`方法内容一致，一模一样复制过来 |







# 各方法下载时长

| 方法                                                    | 时长（毫秒） |                                        |
| ------------------------------------------------------- | ------------ | -------------------------------------- |
| 单线程                                                  | 4300         |                                        |
| 继承Thread实现多线程：1                                 | 4300         |                                        |
| 继承Thread实现多线程：2                                 | 2300         |                                        |
| 继承Thread实现多线程：3-8                               | 2300         | 时长基本没变化                         |
| 继承Thread实现多线程：100                               | 5600         | 时长变长且连接会过期，需要延长连接时间 |
|                                                         |              |                                        |
| 实现Runnable接口实现多线程                              |              | 各线程数量的运行时间基本同于Thread     |
|                                                         |              |                                        |
| 通过ThreadPoolExecutor创建线程池，Runnable提交任务：1   | 4300         |                                        |
| 通过ThreadPoolExecutor创建线程池，Runnable提交任务：2-n |              | 时长基本同上                           |



# 未完成

- 上线程池后的线程关闭方法
- CSDN参考代码的理解（基本到位了，看看还有没有新的知识点可以学）

